"use strict";(self.webpackChunkapaleo_task=self.webpackChunkapaleo_task||[]).push([[638],{3638:(gr,Gt,u)=>{u.r(Gt),u.d(Gt,{UsersListComponent:()=>pr});var f=u(177),e=u(4438),Ut=u(1985),B=u(1413);const at={now:()=>(at.delegate||Date).now(),delegate:void 0};class jt extends B.B{constructor(i=1/0,t=1/0,r=at){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:o,_windowTime:a}=this;t||(r.push(i),!s&&r.push(o.now()+a)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:r,_buffer:s}=this,o=s.slice();for(let a=0;a<o.length&&!i.closed;a+=r?1:2)i.next(o[a]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,o=(s?1:2)*i;if(i<1/0&&o<r.length&&r.splice(0,r.length-o),!s){const a=t.now();let l=0;for(let c=1;c<r.length&&r[c]<=a;c+=2)l=c;l&&r.splice(0,l+1)}}}var en=u(6977);function F(n){n||((0,e.Af3)(F),n=(0,e.WQX)(e.abz));const i=new Ut.c(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe((0,en.Q)(i))}function lt(n,i){!i?.injector&&(0,e.Af3)(lt);const t=i?.injector??(0,e.WQX)(e.zZn),r=new jt(1),s=(0,e.QZP)(()=>{let o;try{o=n()}catch(a){return void(0,e.O8t)(()=>r.error(a))}(0,e.O8t)(()=>r.next(o))},{injector:t,manualCleanup:!0});return t.get(e.abz).onDestroy(()=>{s.destroy(),r.complete()}),r.asObservable()}var $t=u(1626),on=u(8148);const an=[5,10,20,30,40,50,100];class G{name;displayName;filterName;filter;sortable;bindKey;constructor(i,t,...r){this.name=i,this.displayName=t??i,this.filterName=`${i}_not_filter`,r.forEach(s=>s(this))}}function Wt(n,i){return t=>{t.filter=!0,t.name=n??t.name,t.bindKey=i,t.filterName=`${n??t.name}_filter`}}class ln{list;colNames=new Set;diplayNames=[];filterNames=new Set;filter$;clear$=new B.B;colsMap={};constructor(...i){this.list=i,this.initializeColumns(i)}initializeColumns(i){i.forEach(t=>{this.colNames.add(t.name),this.diplayNames.push(t.displayName),this.filterNames.add(t.filterName),this.colsMap[t.filterName]=this.createColumnContract(t)})}createColumnContract(i){return{config:i,...i.filter?{filter:()=>this.filter$,clear:this.clear$}:{},...i.sortable?{sortBy:i.name,order:"none",isActiveSort:!1}:{}}}attachFilter(i){return this.filter$=i,this}toggleSort(i,t){this.list.forEach(r=>{const s=this.colsMap[r.filterName],o=s.sortBy===i;s.isActiveSort=o&&"none"!==t,s.order=o?t:"none"})}}const ct=(n,i)=>i.split(".").reduce((t,r)=>t&&t[r],n);var dt=u(7673);let ht=(()=>{class n{constructor(){}load(t={skip:0,limit:10},r,s,o){return this.requestHandler(t,r=r?.key&&r?.value?r:void 0,s,o)}handleResponse(t,r,s){return{paginationData:{limit:t.limit,skip:t.skip,total:t.total},rs:t[r].map(o=>s(o))}}loadDataUI(t,r={skip:0,limit:10},s,o){let a=t;s&&s.length>0&&(a=t.filter(st=>{for(let{key:ot,value:P}of s){const R=ct(st,ot);if("string"==typeof R&&"string"==typeof P){if(!R.includes(P))return!1}else if(R!==P)return!1}return!0}));let l=a;if(o){const{sortBy:st,order:ot}=o;l=[...a].sort((P,R)=>{const Ze=ct(P,st),tn=ct(R,st);return Ze<tn?"asc"===ot?-1:1:Ze>tn?"asc"===ot?1:-1:0})}const c=l.length,{skip:d,limit:I}=r,fr=l.slice(d,d+I);return(0,dt.of)({rs:fr,paginationData:{total:c,skip:d,limit:I}})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var M=u(6354);class Xt{firstName;lastName;age;address;constructor(i){this.firstName=i.firstName,this.lastName=i.lastName,this.age=i.age,this.address=this.formatAddress(i.address)}formatAddress(i){const{address:t,city:r,country:s,state:o,stateCode:a,postalCode:l,coordinates:{lat:c,lng:d}}=i;return`${s},${o},${a},${r},${t},${l},coordinates:latitude:${c},langtitude:${d}`}}let Lt=(()=>{class n extends ht{selectedColumns=["firstName","lastName","age","address"];http=(0,e.WQX)($t.Qq);urlService=(0,e.WQX)(on.H);constructor(){super()}getAllUsers(){const t=this.urlService.URLS.USERS,r=this.buildHttpParams({limit:0,skip:0});return this.http.get(t,{params:r}).pipe((0,M.T)(s=>this.handleResponse(s,"users",o=>new Xt(o))))}requestHandler(t,r,s,o){const a=this.buildHttpParams(t,r,s,o),l=this.determineUrl(r,o);return this.http.get(l,{params:a}).pipe((0,M.T)(c=>this.handleResponse(c,"users",d=>new Xt(d))))}determineUrl(t,r){return r?`${this.urlService.URLS.USERS}/search`:t?`${this.urlService.URLS.USERS}/filter`:this.urlService.URLS.USERS}buildHttpParams(t,r,s,o){let a=new $t.Nl({fromObject:{...t,...r,...s}});return o&&(a=a.set("q",o)),a.set("select",this.selectedColumns.join(","))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var un=u(6648),cn=u(7468);let Ht=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(e.sFG),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:n})}}return n})(),b=(()=>{class n extends Ht{static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}})()}static{this.\u0275dir=e.FsC({type:n,features:[e.Vt3]})}}return n})();const m=new e.nKC(""),hn={provide:m,useExisting:(0,e.Rfq)(()=>U),multi:!0},fn=new e.nKC("");let U=(()=>{class n extends Ht{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pn(){const n=(0,f.QT)()?(0,f.QT)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(fn,8))}}static{this.\u0275dir=e.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&e.bIt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[e.Jv_([hn]),e.Vt3]})}}return n})();const h=new e.nKC(""),C=new e.nKC("");function ie(n){return null!=n}function re(n){return(0,e.jNT)(n)?(0,un.H)(n):n}function se(n){let i={};return n.forEach(t=>{i=null!=t?{...i,...t}:i}),0===Object.keys(i).length?null:i}function oe(n,i){return i.map(t=>t(n))}function ae(n){return n.map(i=>function gn(n){return!n.validate}(i)?i:t=>i.validate(t))}function pt(n){return null!=n?function le(n){if(!n)return null;const i=n.filter(ie);return 0==i.length?null:function(t){return se(oe(t,i))}}(ae(n)):null}function ft(n){return null!=n?function ue(n){if(!n)return null;const i=n.filter(ie);return 0==i.length?null:function(t){const r=oe(t,i).map(re);return(0,cn.p)(r).pipe((0,M.T)(se))}}(ae(n)):null}function ce(n,i){return null===n?[i]:Array.isArray(n)?[...n,i]:[n,i]}function de(n){return n._rawValidators}function he(n){return n._rawAsyncValidators}function mt(n){return n?Array.isArray(n)?n:[n]:[]}function $(n,i){return Array.isArray(n)?n.includes(i):n===i}function pe(n,i){const t=mt(i);return mt(n).forEach(s=>{$(t,s)||t.push(s)}),t}function fe(n,i){return mt(i).filter(t=>!$(n,t))}class me{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=pt(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class p extends me{get formDirective(){return null}get path(){return null}}class _ extends me{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ge{constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let W=(()=>{class n extends ge{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(_,2))}}static{this.\u0275dir=e.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&e.AVh("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[e.Vt3]})}}return n})();const x="VALID",L="INVALID",w="PENDING",E="DISABLED";class D{}class ye extends D{constructor(i,t){super(),this.value=i,this.source=t}}class yt extends D{constructor(i,t){super(),this.pristine=i,this.source=t}}class vt extends D{constructor(i,t){super(),this.touched=i,this.source=t}}class H extends D{constructor(i,t){super(),this.status=i,this.source=t}}function z(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Vt{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,e.EWP)(()=>this.statusReactive()),this.statusReactive=(0,e.vPA)(void 0),this._pristine=(0,e.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,e.vPA)(!0),this._touched=(0,e.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,e.vPA)(!1),this._events=new B.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return(0,e.O8t)(this.statusReactive)}set status(i){(0,e.O8t)(()=>this.statusReactive.set(i))}get valid(){return this.status===x}get invalid(){return this.status===L}get pending(){return this.status==w}get disabled(){return this.status===E}get enabled(){return this.status!==E}get pristine(){return(0,e.O8t)(this.pristineReactive)}set pristine(i){(0,e.O8t)(()=>this.pristineReactive.set(i))}get dirty(){return!this.pristine}get touched(){return(0,e.O8t)(this.touchedReactive)}set touched(i){(0,e.O8t)(()=>this.touchedReactive.set(i))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(pe(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(pe(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(fe(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(fe(i,this._rawAsyncValidators))}hasValidator(i){return $(this._rawValidators,i)}hasAsyncValidator(i){return $(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){const t=!1===this.touched;this.touched=!0;const r=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched({...i,sourceControl:r}),t&&!1!==i.emitEvent&&this._events.next(new vt(!0,r))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(i))}markAsUntouched(i={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=i.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:r})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,r),t&&!1!==i.emitEvent&&this._events.next(new vt(!1,r))}markAsDirty(i={}){const t=!0===this.pristine;this.pristine=!1;const r=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty({...i,sourceControl:r}),t&&!1!==i.emitEvent&&this._events.next(new yt(!1,r))}markAsPristine(i={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=i.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,r),t&&!1!==i.emitEvent&&this._events.next(new yt(!0,r))}markAsPending(i={}){this.status=w;const t=i.sourceControl??this;!1!==i.emitEvent&&(this._events.next(new H(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending({...i,sourceControl:t})}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=E,this.errors=null,this._forEachChild(s=>{s.disable({...i,onlySelf:!0})}),this._updateValue();const r=i.sourceControl??this;!1!==i.emitEvent&&(this._events.next(new ye(this.value,r)),this._events.next(new H(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:t},this),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=x,this._forEachChild(r=>{r.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(i,t){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===x||this.status===w)&&this._runAsyncValidator(r,i.emitEvent)}const t=i.sourceControl??this;!1!==i.emitEvent&&(this._events.next(new ye(this.value,t)),this._events.next(new H(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity({...i,sourceControl:t})}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E:x}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,t){if(this.asyncValidator){this.status=w,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const r=re(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:t,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(i){let t=i;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(i,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,t,r){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||r)&&this._events.next(new H(this.status,t)),this._parent&&this._parent._updateControlsErrors(i,t,r)}_initObservables(){this.valueChanges=new e.bkB,this.statusChanges=new e.bkB}_calculateStatus(){return this._allControlsDisabled()?E:this.errors?L:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(w)?w:this._anyControlsHaveStatus(L)?L:x}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,t){const r=!this._anyControlsDirty(),s=this.pristine!==r;this.pristine=r,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,t),s&&this._events.next(new yt(this.pristine,t))}_updateTouched(i={},t){this.touched=this._anyControlsTouched(),this._events.next(new vt(this.touched,t)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,t)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){z(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function wn(n){return Array.isArray(n)?pt(n):n||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function Dn(n){return Array.isArray(n)?ft(n):n||null}(this._rawAsyncValidators)}}const A=new e.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>q}),q="always";function S(n,i,t=q){(function wt(n,i){const t=de(n);null!==i.validator?n.setValidators(ce(t,i.validator)):"function"==typeof t&&n.setValidators([t]);const r=he(n);null!==i.asyncValidator?n.setAsyncValidators(ce(r,i.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();J(i._rawValidators,s),J(i._rawAsyncValidators,s)})(n,i),i.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&i.valueAccessor.setDisabledState?.(n.disabled),function xn(n,i){i.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&be(n,i)})}(n,i),function Sn(n,i){const t=(r,s)=>{i.valueAccessor.writeValue(r),s&&i.viewToModelUpdate(r)};n.registerOnChange(t),i._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,i),function En(n,i){i.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&be(n,i),"submit"!==n.updateOn&&n.markAsTouched()})}(n,i),function Mn(n,i){if(i.valueAccessor.setDisabledState){const t=r=>{i.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),i._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,i)}function Y(n,i,t=!0){const r=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(r),i.valueAccessor.registerOnTouched(r)),function K(n,i){let t=!1;if(null!==n){if(null!==i.validator){const s=de(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(a=>a!==i.validator);o.length!==s.length&&(t=!0,n.setValidators(o))}}if(null!==i.asyncValidator){const s=he(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(a=>a!==i.asyncValidator);o.length!==s.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return J(i._rawValidators,r),J(i._rawAsyncValidators,r),t}(n,i),n&&(i._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function J(n,i){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function be(n,i){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function we(n,i){const t=n.indexOf(i);t>-1&&n.splice(t,1)}function De(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}Promise.resolve();const N=class extends Vt{constructor(i=null,t,r){super(function Ct(n){return(z(n)?n.validators:n)||null}(t),function bt(n,i){return(z(i)?i.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),z(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=De(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){we(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){we(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){De(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};Promise.resolve();const Et=new e.nKC(""),Xn={provide:_,useExisting:(0,e.Rfq)(()=>T)};let T=(()=>{class n extends _{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,s,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new e.bkB,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=function Mt(n,i){if(!i)return null;let t,r,s;return Array.isArray(i),i.forEach(o=>{o.constructor===U?t=o:function Tn(n){return Object.getPrototypeOf(n.constructor)===b}(o)?r=o:s=o}),s||r||t||null}(0,s)}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&Y(r,this,!1),S(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function At(n,i){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Y(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(h,10),e.rXU(C,10),e.rXU(m,10),e.rXU(Et,8),e.rXU(A,8))}}static{this.\u0275dir=e.FsC({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[e.Jv_([Xn]),e.Vt3,e.OA$]})}}return n})(),ui=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({})}}return n})(),Pt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Et,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:A,useValue:t.callSetDisabledState??q}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[ui]})}}return n})();var Z=u(2282);let tt=(()=>{class n{name=e.hFB.required({alias:"ApaleoTemplate"});template=(0,e.WQX)(e.C4Q);constructor(){}getType(){return this.name()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=e.FsC({type:n,selectors:[["","ApaleoTemplate",""]],inputs:{name:[1,"ApaleoTemplate","name"]},standalone:!0})}return n})();var di=u(8359);class hi extends di.yU{constructor(i,t){super()}schedule(i,t=0){return this}}const et={setInterval(n,i,...t){const{delegate:r}=et;return r?.setInterval?r.setInterval(n,i,...t):setInterval(n,i,...t)},clearInterval(n){const{delegate:i}=et;return(i?.clearInterval||clearInterval)(n)},delegate:void 0};var pi=u(7908);class O{constructor(i,t=O.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,r){return new this.schedulerActionCtor(this,i).schedule(r,t)}}O.now=at.now;const Rt=new class mi extends O{constructor(i,t=O.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let r;this._active=!0;do{if(r=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,r){for(;i=t.shift();)i.unsubscribe();throw r}}}(class fi extends hi{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var r;if(this.closed)return this;this.state=i;const s=this.id,o=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(o,s,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(i,t,r=0){return et.setInterval(i.flush.bind(i,this),r)}recycleAsyncId(i,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&et.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(i,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let s,r=!1;try{this.work(i)}catch(o){r=!0,s=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pi.o)(r,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}),gi=Rt;var He=u(9974),ze=u(4360);function qe(n,i=Rt){return(0,He.N)((t,r)=>{let s=null,o=null,a=null;const l=()=>{if(s){s.unsubscribe(),s=null;const d=o;o=null,r.next(d)}};function c(){const d=a+n,I=i.now();if(I<d)return s=this.schedule(void 0,d-I),void r.add(s);l()}t.subscribe((0,ze._)(r,d=>{o=d,a=i.now(),s||(s=i.schedule(c,n),r.add(s))},()=>{l(),r.complete()},void 0,()=>{o=s=null}))})}var Bt=u(8141);const _i=["prefixWrapper"],yi=["suffixWrapper"],vi=(n,i)=>({"padding-left.px":n,"padding-right.px":i});function Ci(n,i){1&n&&e.eu8(0)}function bi(n,i){if(1&n&&(e.j41(0,"span",6,1),e.DNE(2,Ci,1,0,"ng-container",7),e.k0s()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngTemplateOutlet",t.prefixTemplate)}}function Vi(n,i){1&n&&e.eu8(0)}function Fi(n,i){1&n&&e.eu8(0)}function wi(n,i){if(1&n&&(e.j41(0,"span",8,2),e.DNE(2,Fi,1,0,"ng-container",7),e.k0s()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngTemplateOutlet",t.suffixTemplate)}}function Di(n,i){if(1&n){const t=e.RV6();e.j41(0,"input",9),e.bIt("input",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.setValue(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("id",t.inputId())("ngClass",t.klass())("readonly",t.disabled())("autocomplete",t.autocomplete()?"on":"off")("type",t.type())("placeholder",t.placeholder())("formControl",t.control)("ngStyle",e.l_i(10,vi,t.prefixPadding,t.suffixPadding)),e.BMQ("aria-label",t.ariaLabel())("aria-labelledby",t.ariaLabelledBy())}}let Qe=(()=>{class n{onChange;onTouch;control=new N("");ngContorl=(0,e.WQX)(_,{optional:!0,self:!0});controlContainer=(0,e.WQX)(p,{optional:!0,skipSelf:!0,host:!0});_destroyRef=(0,e.WQX)(e.abz);_cdr=(0,e.WQX)(e.gRc);value=(0,e.geq)();disabled=(0,e.geq)();autocomplete=(0,e.hFB)();type=e.hFB.required();placeholder=(0,e.hFB)("");size=(0,e.hFB)("md");label=(0,e.hFB)("");inputId=(0,e.hFB)();klass=(0,e.hFB)();ariaLabel=(0,e.hFB)();ariaLabelledBy=(0,e.hFB)();inputColor=(0,e.hFB)("");templates=(0,e.tEk)(tt);prefixWrapper=(0,e.ebz)("prefixWrapper");suffixWrapper=(0,e.ebz)("suffixWrapper");prefixTemplate;suffixTemplate;prefixPadding=0;suffixPadding=0;constructor(){this.ngContorl&&(this.ngContorl.valueAccessor=this)}ngAfterViewInit(){if(this.prefixWrapper()){const t=this.prefixWrapper()?.nativeElement?.offsetWidth;this.prefixPadding=t?t+20:0,this._cdr.markForCheck()}if(this.suffixWrapper()){const t=this.suffixWrapper()?.nativeElement?.offsetWidth;this.suffixPadding=t?t+20:0,this._cdr.markForCheck()}}ngAfterContentInit(){this.templates().forEach(t=>{switch(t.getType()){case"prefix":this.prefixTemplate=t.template;break;case"suffix":this.suffixTemplate=t.template}})}ngOnInit(){this.controlContainer?.valueChanges?.pipe((0,Bt.M)(t=>{this._cdr.markForCheck()})).pipe(F(this._destroyRef)).subscribe(),this.checkDisableState()}writeValue(t){this.control.setValue(t,{emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.disabled.set(t),this.checkDisableState()}setValue(t){this.disabled()||(this.onChange(t.target.value),this.onTouch())}checkDisableState(){this.disabled()?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-input-text"]],contentQueries:function(r,s,o){1&r&&e.C6U(o,s.templates,tt,4),2&r&&e.NyB()},viewQuery:function(r,s){1&r&&(e.wEZ(s.prefixWrapper,_i,5),e.wEZ(s.suffixWrapper,yi,5)),2&r&&e.NyB(2)},inputs:{value:[1,"value"],disabled:[1,"disabled"],autocomplete:[1,"autocomplete"],type:[1,"type"],placeholder:[1,"placeholder"],size:[1,"size"],label:[1,"label"],inputId:[1,"inputId"],klass:[1,"klass"],ariaLabel:[1,"ariaLabel"],ariaLabelledBy:[1,"ariaLabelledBy"],inputColor:[1,"inputColor"]},outputs:{value:"valueChange",disabled:"disabledChange"},standalone:!0,features:[e.aNF],decls:9,vars:8,consts:[["input",""],["prefixWrapper",""],["suffixWrapper",""],[1,"group","block","relative"],[1,"block","font-medium"],[3,"ngClass"],[1,"absolute","inset-y-0","left-3","flex","items-center"],[4,"ngTemplateOutlet"],[1,"absolute","inset-y-0","right-3","flex","items-center"],[3,"input","id","ngClass","readonly","autocomplete","type","placeholder","formControl","ngStyle"]],template:function(r,s){if(1&r&&(e.j41(0,"label",3)(1,"span",4),e.EFF(2),e.k0s()(),e.j41(3,"div",5),e.DNE(4,bi,3,1,"span",6)(5,Vi,1,0,"ng-container",7)(6,wi,3,1,"span",8),e.k0s(),e.DNE(7,Di,1,13,"ng-template",null,0,e.C5r)),2&r){const o=e.sdS(8);e.R7$(2),e.SpI("",s.label()," "),e.R7$(),e.ZvI("group input-form ",s.inputColor()," flex items-center justify-start relative"),e.Y8G("ngClass",s.size),e.R7$(),e.vxM(s.prefixTemplate?4:-1),e.R7$(),e.Y8G("ngTemplateOutlet",o),e.R7$(),e.vxM(s.suffixTemplate?6:-1)}},dependencies:[Pt,U,W,T,f.YU,f.T3,f.B3],changeDetection:0})}return n})();function Ai(n,i){if(1&n){const t=e.RV6();e.j41(0,"img",2),e.bIt("keydown.enter",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.clear())})("keydown.space",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.clear())})("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.clear())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("ngSrc",t.filterIcon.url)("width",t.filterIcon.width)("height",t.filterIcon.height)("alt",t.filterIcon.alt)}}let Mi=(()=>{class n{destroyRef=(0,e.WQX)(e.abz);assets=(0,e.WQX)(Z.kf);col=e.hFB.required();control=new N("",{nonNullable:!0});filterChange=(0,e.CGW)();clearAllExceptCurrent=(0,e.hFB)(!1,{transform:e.L39});get filterIcon(){return(""+this.control.value).length?this.assets["filter-clear"]:this.assets.filter}ngOnInit(){this.listenToControl(),this.listenToClearValue()}listenToControl(){!this.col()||!this.col().filter||this.control.valueChanges.pipe(qe(250)).subscribe(t=>{this.col()&&this.filterChange.emit({key:this.col().config.name,value:t}),this.clearAllExceptCurrent()&&this.clearAllFiltersExceptCurrent()})}clear(){this.control.dirty&&this.control.reset()}listenToClearValue(){this.col()?.clear.pipe(F(this.destroyRef)).subscribe(t=>{this.col().config.name!==t&&this.control.reset("",{emitEvent:!1})})}clearAllFiltersExceptCurrent(){this.col()?.clear.next(this.col().config.name)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-column-filter"]],inputs:{col:[1,"col"],clearAllExceptCurrent:[1,"clearAllExceptCurrent"]},outputs:{filterChange:"filterChange"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["klass","bg-gray-50 border border-gray-300 text-gray-900  font-medium  text-lg rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",3,"type","formControl"],["ApaleoTemplate","prefix"],[1,"cursor-pointer",3,"keydown.enter","keydown.space","click","ngSrc","width","height","alt"]],template:function(r,s){1&r&&(e.j41(0,"app-input-text",0),e.DNE(1,Ai,1,4,"ng-template",1),e.k0s()),2&r&&e.Y8G("type","text")("formControl",s.control)},dependencies:[Qe,tt,Pt,W,T,f.kt]})}return n})();function xi(n,i){if(1&n&&e.nrm(0,"img",2),2&n){const t=i,r=e.XpG();e.AVh("opacity-40","none"===t),e.Y8G("ngSrc",r.assets["asc"===t?"arrow-up":"desc"===t?"arrow-down":"arrow-up"].url)("width",r.assets["asc"===t?"arrow-up":"desc"===t?"arrow-down":"arrow-up"].width)("height",r.assets["asc"===t?"arrow-up":"desc"===t?"arrow-down":"arrow-up"].height)("alt",r.assets["asc"===t?"arrow-up":"desc"===t?"arrow-down":"arrow-up"].alt)}}let Ei=(()=>{class n{assets=(0,e.WQX)(Z.kf);col=e.hFB.required();onSort=(0,e.CGW)();dir=(0,e.vPA)("none");sort(){this.dir.update(()=>this.nextSortOrder(this.dir())),this.onSort.emit({order:this.dir(),sortBy:this.col().sortBy})}nextSortOrder(t){switch(t){case"none":return"asc";case"asc":return"desc";case"desc":return"none"}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-column-sorter"]],inputs:{col:[1,"col"]},outputs:{onSort:"onSort"},standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[1,"ml-2","cursor-pointer",3,"click"],[3,"ngSrc","width","height","alt","opacity-40"],[3,"ngSrc","width","height","alt"]],template:function(r,s){if(1&r&&(e.j41(0,"button",0),e.bIt("click",function(){return s.sort()}),e.DNE(1,xi,1,6,"img",1),e.k0s()),2&r){let o;e.R7$(),e.vxM((o=s.col().order)?1:-1,o)}},dependencies:[f.kt]})}return n})();var nt=u(4412),Si=u(8793),Ye=u(6697),ki=u(5343),Ti=u(3703),Oi=u(1397),Ii=u(8750);function Je(n,i){return i?t=>(0,Si.x)(i.pipe((0,Ye.s)(1),function Ni(){return(0,He.N)((n,i)=>{n.subscribe((0,ze._)(i,ki.l))})}()),t.pipe(Je(n))):(0,Oi.Z)((t,r)=>(0,Ii.Tg)(n(t,r)).pipe((0,Ye.s)(1),(0,Ti.u)(t)))}var Pi=u(9470);var it=u(5558),Ke=u(5964),Ui=u(4572),ji=u(980);const rt=(n,i,t)=>({action:n,disabled:i,icon:t});function $i(n,i){1&n&&e.eu8(0)}function Wi(n,i){1&n&&e.eu8(0)}function Xi(n,i){1&n&&e.eu8(0)}function Li(n,i){1&n&&e.eu8(0)}function Hi(n,i){if(1&n&&(e.j41(0,"option",5),e.EFF(1),e.k0s()),2&n){const t=i.$implicit,r=e.XpG();e.Y8G("value",t)("selected",t===r.limit()),e.R7$(),e.SpI(" ",t," ")}}function zi(n,i){if(1&n&&(e.qex(0),e.nrm(1,"img",7),e.bVm()),2&n){const t=e.XpG().icon;e.R7$(),e.Y8G("ngSrc",t.url)("width",t.width)("height",t.height)}}function qi(n,i){if(1&n){const t=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){const s=e.eBV(t).action;return e.Njj(s&&s())}),e.DNE(1,zi,2,3,"ng-container"),e.k0s()}if(2&n){const r=i.icon;e.Y8G("disabled",i.disabled),e.R7$(),e.vxM(r?1:-1)}}let Qi=(()=>{class n{total=e.hFB.required();skip=e.hFB.required();limit=e.hFB.required();pageSizeOptions=(0,e.hFB)(an);onPaginate=(0,e.CGW)();totalPages=(0,e.EWP)(()=>this.limit()&&this.limit()>0?Math.ceil(this.total()/this.limit()):0);currentPage=(0,e.EWP)(()=>this.limit()&&this.limit()>0?Math.floor(this.skip()/this.limit())+1:0);paginationAction={NEXT:()=>this.goToNext(),FIRST:()=>this.goToFirst(),LAST:()=>this.goToLast(),PREVIOUS:()=>this.goToPrevious()};assets=(0,e.WQX)(Z.kf);updatePagination(t,r){this.onPaginate.emit({limit:r,skip:t})}onPageSizeChange(t){const r=Number(t.target.value);this.updatePagination(0,r)}goToFirst(){this.updatePagination(0,this.limit())}goToPrevious(){this.currentPage()>1&&this.updatePagination(this.skip()-this.limit(),this.limit())}goToNext(){this.currentPage()<this.totalPages()&&this.updatePagination(this.skip()+this.limit(),this.limit())}goToLast(){const t=(this.totalPages()-1)*this.limit();this.updatePagination(t,this.limit())}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-paginator"]],inputs:{total:[1,"total"],skip:[1,"skip"],limit:[1,"limit"],pageSizeOptions:[1,"pageSizeOptions"]},outputs:{onPaginate:"onPaginate"},standalone:!0,features:[e.aNF],decls:12,vars:26,consts:[["actionButton",""],[1,"flex","justify-center","items-center","gap-4","p-4","bg-gray-200","dark:bg-gray-800","rounded-lg","shadow","w-full"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-gray-700","dark:text-gray-200","font-medium","text-base"],[1,"ml-4","px-2","py-1.5","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change"],[3,"value","selected"],[1,"flex","items-center","gap-2","px-3","py-1.5","bg-blue-500","text-white","dark:bg-blue-600","rounded","disabled:bg-blue-300","dark:disabled:bg-blue-400","hover:bg-blue-600","dark:hover:bg-blue-700","transition",3,"click","disabled"],[3,"ngSrc","width","height"]],template:function(r,s){if(1&r){const o=e.RV6();e.j41(0,"div",1),e.DNE(1,$i,1,0,"ng-container",2)(2,Wi,1,0,"ng-container",2),e.j41(3,"span",3),e.EFF(4),e.k0s(),e.DNE(5,Xi,1,0,"ng-container",2)(6,Li,1,0,"ng-container",2),e.j41(7,"select",4),e.bIt("change",function(l){return e.eBV(o),e.Njj(s.onPageSizeChange(l))}),e.Z7z(8,Hi,2,3,"option",5,e.fX1),e.k0s()(),e.DNE(10,qi,2,2,"ng-template",null,0,e.C5r)}if(2&r){const o=e.sdS(11);e.R7$(),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.sMw(10,rt,s.paginationAction.FIRST,1===s.currentPage(),s.assets["double-left-chevron"])),e.R7$(),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.sMw(14,rt,s.paginationAction.PREVIOUS,1===s.currentPage(),s.assets["left-chevron"])),e.R7$(2),e.Lme(" Page ",s.currentPage()," of ",s.totalPages()," "),e.R7$(),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.sMw(18,rt,s.paginationAction.NEXT,s.currentPage()===s.totalPages(),s.assets["right-chevron"])),e.R7$(),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.sMw(22,rt,s.paginationAction.LAST,s.currentPage()===s.totalPages(),s.assets["double-right-chevron"])),e.R7$(2),e.Dyx(s.pageSizeOptions())}},dependencies:[f.T3,f.kt]})}return n})();const Yi=(n,i)=>({"opacity-100":n,"opacity-0 group-hover:opacity-100":i});function Ji(n,i){if(1&n&&e.eu8(0,4),2&n){e.XpG();const t=e.sdS(25);e.Y8G("ngTemplateOutlet",t)}}function Ki(n,i){if(1&n&&(e.j41(0,"tr",7)(1,"th"),e.eu8(2,4),e.k0s()()),2&n){const t=e.XpG(),r=e.sdS(27);e.R7$(),e.BMQ("colspan",t.columnsWrapper().colNames.size+1),e.R7$(),e.Y8G("ngTemplateOutlet",r)}}function Zi(n,i){if(1&n){const t=e.RV6();e.j41(0,"app-column-sorter",18),e.bIt("onSort",function(s){e.eBV(t);const o=e.XpG(2);return e.Njj(o.sort(s))}),e.k0s()}if(2&n){const t=e.XpG().$implicit,r=e.XpG();e.Y8G("ngClass",e.l_i(2,Yi,r.columnsWrapper().colsMap[t].isActiveSort,!r.columnsWrapper().colsMap[t].isActiveSort))("col",r.columnsWrapper().colsMap[t])}}function tr(n,i){if(1&n&&(e.j41(0,"th",9)(1,"div",16)(2,"span"),e.EFF(3),e.k0s(),e.DNE(4,Zi,1,5,"app-column-sorter",17),e.k0s()()),2&n){const t=i.$implicit,r=e.XpG();e.R7$(3),e.JRh(r.columnsWrapper().colsMap[t].config.displayName),e.R7$(),e.vxM(r.columnsWrapper().colsMap[t].config.sortable?4:-1)}}function er(n,i){if(1&n){const t=e.RV6();e.j41(0,"app-column-filter",20),e.bIt("filterChange",function(s){e.eBV(t);const o=e.XpG(2);return e.Njj(o.filterChange(s))}),e.k0s()}if(2&n){const t=e.XpG().$implicit,r=e.XpG();e.Y8G("col",r.columnsWrapper().colsMap[t])("clearAllExceptCurrent",!r.filterUI())}}function nr(n,i){if(1&n&&(e.j41(0,"th",10),e.DNE(1,er,1,2,"app-column-filter",19),e.k0s()),2&n){const t=i.$implicit,r=e.XpG();e.R7$(),e.vxM(r.columnsWrapper().colsMap[t].config.filter?1:-1)}}function ir(n,i){if(1&n&&(e.j41(0,"td",22),e.EFF(1),e.k0s()),2&n){const t=i.$implicit,r=e.XpG().$implicit;e.Y8G("title",r[t]),e.R7$(),e.SpI(" ",r[t]," ")}}function rr(n,i){if(1&n&&(e.j41(0,"tr",12)(1,"td",21),e.EFF(2),e.k0s(),e.Z7z(3,ir,2,2,"td",22,e.fX1),e.k0s()),2&n){const t=i.$index,r=e.XpG();e.R7$(2),e.SpI(" ",t+1," "),e.R7$(),e.Dyx(r.columnsWrapper().colNames)}}function sr(n,i){1&n&&(e.j41(0,"div",23),e.nrm(1,"div",24),e.k0s())}function or(n,i){if(1&n&&(e.SS7(0),e.nrm(1,"img",27)),2&n){const t=e.XpG(2).assets.search;e.R7$(),e.Y8G("ngSrc",t.url)("width",t.width)("height",t.height)("alt",t.alt)}}function ar(n,i){if(1&n&&(e.j41(0,"app-input-text",25),e.DNE(1,or,2,4,"ng-template",26),e.k0s()),2&n){const t=e.XpG();e.Y8G("placeholder","Search By frist name, last name...")("formControl",t.searchForm)}}let lr=(()=>{class n{columnsWrapper=e.hFB.required();filterUI=(0,e.hFB)();allData=(0,e.hFB)();delaySearch=(0,e.hFB)(250);data$=this.load();service=(0,e.WQX)(ht,{skipSelf:!0});assets=(0,e.WQX)(Z.kf);destroyRef=(0,e.WQX)(e.abz);sort$=new jt(1);filter$=new nt.t({});skip=(0,e.vPA)(0);limit=(0,e.vPA)(10);total=(0,e.vPA)(0);paginate$=new nt.t({skip:this.skip(),limit:this.limit()});search$=new nt.t("");searchForm=new N("",{nonNullable:!0});loadingSubject$=new nt.t(!1);filterUi$=lt(this.filterUI);allData$=lt(this.allData);ngOnInit(){this.columnsWrapper().attachFilter(this.filter$),this.sort$.next(void 0),this.listenToValueChange()}load(){return(0,dt.of)(void 0).pipe(function Gi(n,i=Rt){const t=function Bi(n=0,i,t=gi){let r=-1;return null!=i&&((0,Pi.m)(i)?t=i:r=i),new Ut.c(s=>{let o=function Ri(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let a=0;return t.schedule(function(){s.closed||(s.next(a++),0<=r?this.schedule(void 0,r):s.complete())},o)})}(n,i);return Je(()=>t)}(0)).pipe((0,it.n)(()=>this.filterUi$)).pipe((0,Ke.p)(t=>void 0!==t)).pipe((0,it.n)(t=>(0,Ui.z)([(0,dt.of)(t),this.allData$,this.paginate$,this.filter$,this.sort$,this.search$]).pipe((0,Ke.p)(([r,s])=>!1===r||!0===r&&null!=s)).pipe((0,it.n)(([r,s,o,a,l,c])=>(this.loadingSubject$.next(!0),r?this.service.loadDataUI(s,o,a,l):this.service.load(o,a,l,c).pipe((0,ji.j)(()=>this.loadingSubject$.next(!1))))),(0,Bt.M)(({paginationData:r})=>{this.total.set(r.total),this.loadingSubject$.next(!1)}),(0,M.T)(r=>r.rs))))}sort(t){this.columnsWrapper().toggleSort(t.sortBy,t.order),t.sortBy&&"none"!==t.order&&this.sort$.next({sortBy:t.sortBy,order:t.order})}paginate(t){this.paginate$.next({skip:t.skip,limit:t.limit}),this.skip.set(t.skip),this.limit.set(t.limit)}filterChange(t){const r=this.filterUI();if(null!=t.value&&""!==t.value)if(this.resetPaginator(),r){this.resetSearchForm();const o=[...(Array.isArray(this.filter$.value)?this.filter$.value:[]).filter(a=>a.key!==t.key),{key:t.key,value:t.value}];this.filter$.next(o)}else this.filter$.next({key:t.key,value:t.value});else if(r){const s=this.filter$.value.filter(o=>o.key!==t.key);this.filter$.next([...s])}else delete this.filter$.value.value,this.filter$.next({...this.filter$.value})}listenToValueChange(){this.searchForm.valueChanges.pipe(qe(this.delaySearch()),F(this.destroyRef),(0,Bt.M)(t=>{this.search$.next(t),t&&(this.filter$.next({}),this.columnsWrapper().clear$.next())})).subscribe()}resetPaginator(){this.updatePaginationDate(0,10),this.paginate$.next({limit:this.limit(),skip:this.skip()})}resetSearchForm(){this.searchForm.reset("")}updatePaginationDate(t,r){this.limit.set(r),this.skip.set(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-data-table"]],inputs:{columnsWrapper:[1,"columnsWrapper"],filterUI:[1,"filterUI"],allData:[1,"allData"],delaySearch:[1,"delaySearch"]},standalone:!0,features:[e.aNF],decls:28,vars:10,consts:[["loader",""],["searchInput",""],[1,"m-5","max-h-[80vh]","overflow-y-auto","[&::-webkit-scrollbar]:w-2","[&::-webkit-scrollbar-track]:rounded-full","[&::-webkit-scrollbar-track]:bg-gray-100","[&::-webkit-scrollbar-thumb]:rounded-full","[&::-webkit-scrollbar-thumb]:bg-gray-300","dark:[&::-webkit-scrollbar-track]:bg-neutral-700","dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500"],[1,"relative"],[3,"ngTemplateOutlet"],[1,"w-full","table-fixed","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400","border","border-gray-300","dark:border-gray-600","rounded-lg"],[1,"sticky","top-0","z-10","text-base","text-gray-700","uppercase","bg-slate-50","dark:bg-gray-700","dark:text-gray-400"],[1,"bg-slate-100","dark:bg-gray-800"],[1,"text-center","px-6","py-3","border-gray-300","dark:border-gray-600","w-4/12"],[1,"group","text-center","px-6","py-3","border-gray-300","dark:border-gray-600","w-4/12","min-w-[120px]"],[1,"text-center","px-6","py-3","border-gray-300","dark:border-gray-600"],[1,"bg-white","dark:bg-gray-900"],[1,"border-b","border-gray-300","dark:border-gray-700"],[1,"bg-white","dark:bg-gray-900","sticky","bottom-0","shadow-inner","shadow-sm","shadow-gray-500"],[1,"px-6","py-3","text-center"],[3,"onPaginate","total","limit","skip"],[1,"flex","items-center","justify-center"],[1,"inline-block","ml-2","transition-opacity","duration-300",3,"ngClass","col"],[1,"inline-block","ml-2","transition-opacity","duration-300",3,"onSort","ngClass","col"],[3,"col","clearAllExceptCurrent"],[3,"filterChange","col","clearAllExceptCurrent"],[1,"text-center","px-6","py-3","truncate","text-black","dark:text-gray-100"],[1,"text-center","px-6","py-3","truncate","text-lg","text-black","dark:text-gray-100",3,"title"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-white","bg-opacity-75","dark:bg-gray-900","dark:bg-opacity-75","z-20"],[1,"loader"],["type","text","klass","m-4 font-medium bg-gray-50 border border-gray-300 text-gray-900 text-base  rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",3,"placeholder","formControl"],["ApaleoTemplate","prefix"],[1,"m-3","opacity-50","dark:invert",3,"ngSrc","width","height","alt"]],template:function(r,s){if(1&r){const o=e.RV6();e.j41(0,"div",2)(1,"div",3),e.DNE(2,Ji,1,1,"ng-container",4),e.nI1(3,"async"),e.j41(4,"table",5)(5,"thead",6),e.DNE(6,Ki,3,2,"tr",7),e.j41(7,"tr")(8,"th",8),e.EFF(9," # "),e.k0s(),e.Z7z(10,tr,5,2,"th",9,e.fX1),e.k0s(),e.j41(12,"tr",7),e.nrm(13,"th",10),e.Z7z(14,nr,2,1,"th",10,e.fX1),e.k0s()(),e.j41(16,"tbody",11),e.Z7z(17,rr,5,1,"tr",12,e.fX1),e.nI1(19,"async"),e.k0s(),e.j41(20,"tfoot",13)(21,"tr")(22,"td",14)(23,"app-paginator",15),e.bIt("onPaginate",function(l){return e.eBV(o),e.Njj(s.paginate(l))}),e.k0s()()()()()()(),e.DNE(24,sr,2,0,"ng-template",null,0,e.C5r)(26,ar,2,2,"ng-template",null,1,e.C5r)}2&r&&(e.R7$(2),e.vxM(e.bMT(3,6,s.loadingSubject$)?2:-1),e.R7$(4),e.vxM(s.filterUI()?-1:6),e.R7$(4),e.Dyx(s.columnsWrapper().filterNames),e.R7$(4),e.Dyx(s.columnsWrapper().filterNames),e.R7$(3),e.Dyx(e.bMT(19,8,s.data$)),e.R7$(5),e.BMQ("colspan",s.columnsWrapper().colNames.size+1),e.R7$(),e.Y8G("total",s.total())("limit",s.limit())("skip",s.skip()))},dependencies:[Qi,Qe,tt,Ei,f.YU,Mi,f.Jj,f.T3,f.kt,Pt,W,T],styles:[".loader[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#4a5568;border-radius:50%;width:36px;height:36px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return n})();function ur(n,i){if(1&n){const t=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3," Choose Filtering Mode "),e.k0s(),e.j41(4,"div",3)(5,"div",4),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.selectMode("frontend"))}),e.j41(6,"h3",5),e.EFF(7," Frontend Filtering "),e.k0s(),e.j41(8,"p",6),e.EFF(9," You can apply multiple filters simultaneously, such as filtering by both first name and last name. Filtering is case-sensitive, and sorting and pagination are handled on the client side, allowing for a fast and flexible user experience. "),e.k0s()(),e.j41(10,"div",4),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.selectMode("backend"))}),e.j41(11,"h3",5),e.EFF(12," Backend Filtering "),e.k0s(),e.j41(13,"p",6),e.EFF(14," You can apply only one filter at a time with backend filtering, where each filter requires an exact match. Filtering is case-sensitive, but search functionality is available for non-case-sensitive queries. Pagination and sorting are also supported by the backend API. "),e.k0s()()(),e.j41(15,"div",7)(16,"button",8),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.confirmSelection())}),e.EFF(17," Confirm Selection "),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(5),e.AVh("border-blue-500","frontend"===t.selectedMode)("bg-blue-100","frontend"===t.selectedMode)("dark:bg-gray-700","frontend"===t.selectedMode)("shadow-2xl","frontend"===t.selectedMode)("scale-105","frontend"===t.selectedMode),e.R7$(5),e.AVh("border-blue-500","backend"===t.selectedMode)("bg-blue-100","backend"===t.selectedMode)("dark:bg-gray-700","backend"===t.selectedMode)("shadow-2xl","backend"===t.selectedMode)("scale-105","backend"===t.selectedMode)}}let cr=(()=>{class n{showDialog=!0;selectedMode=null;modeSelection=(0,e.CGW)();constructor(){}ngOnInit(){}confirmSelection(){this.selectedMode?(this.modeSelection.emit(this.selectedMode),this.showDialog=!1):alert("Please select a filtering mode.")}selectMode(t){this.selectedMode=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-filter-mode"]],outputs:{modeSelection:"modeSelection"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-50","z-50","flex","items-center","justify-center","p-4","sm:p-0","backdrop-blur-md"],[1,"bg-slate-100","dark:bg-gray-800","rounded-lg","shadow-lg","p-6","sm:p-8","max-w-lg","w-full","sm:w-auto"],[1,"text-xl","font-semibold","text-gray-800","dark:text-gray-200","mb-6","text-center"],[1,"flex","flex-col","sm:flex-row","justify-around","items-stretch","gap-4"],[1,"flex-1","flex","flex-col","items-start","border-2","border-dashed","rounded-lg","p-6","cursor-pointer","transition-all","duration-300","hover:shadow-lg","transform","dark:border-gray-600",3,"click"],[1,"text-lg","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"flex","justify-center","mt-6"],[1,"px-6","py-2","bg-blue-600","text-white","font-semibold","rounded-lg","hover:bg-blue-700","w-full","sm:w-auto",3,"click"]],template:function(r,s){1&r&&e.DNE(0,ur,18,20,"div",0),2&r&&e.vxM(s.showDialog?0:-1)}})}return n})();const dr=["filterModeDialog"];function hr(n,i){1&n&&(e.j41(0,"div",1)(1,"h1",3),e.EFF(2,"User List"),e.k0s(),e.j41(3,"ul",4)(4,"li",5),e.EFF(5," This table allows you to search, filter, paginate, and sort data. Please note: "),e.k0s(),e.j41(6,"li",6)(7,"strong"),e.EFF(8,"Search"),e.k0s(),e.EFF(9," and "),e.j41(10,"strong"),e.EFF(11,"filter"),e.k0s(),e.EFF(12," can be used with pagination and sorting individually. "),e.k0s(),e.j41(13,"li",6)(14,"strong"),e.EFF(15,"Search and filter together"),e.k0s(),e.EFF(16," aren\u2019t supported due to API limitations. If both are entered, only the last action (either search or filter) will apply, clearing the previous one. "),e.k0s()()())}let pr=(()=>{class n{userService=(0,e.WQX)(Lt);destroyRef=(0,e.WQX)(e.abz);filterModeContainer=e.ebz.required("filterModeDialog",{read:e.c1b});dialogRef;filterUI=(0,e.vPA)(void 0);data$=new B.B;users$=this.data$.pipe(F(this.destroyRef)).pipe((0,it.n)(t=>this.userService.getAllUsers())).pipe((0,M.T)(t=>t.rs));ngOnInit(){this.openFilterModeDialog()}columns=new ln(new G("firstName","First Name",Wt(),n=>{n.sortable=!0}),new G("lastName","Last Name",Wt(),n=>{n.sortable=!0}),new G("age","Age",n=>{n.sortable=!0}),new G("address","Adress"));openFilterModeDialog(){this.filterModeContainer().clear(),this.dialogRef=this.filterModeContainer().createComponent(cr),this.dialogRef.instance.modeSelection.subscribe(t=>{this.filterUI.set("frontend"===t),"frontend"===t&&this.data$.next(),this.closeDialog()})}closeDialog(){this.dialogRef&&this.dialogRef.destroy()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-users-list"]],viewQuery:function(r,s){1&r&&e.wEZ(s.filterModeContainer,dr,5,e.c1b),2&r&&e.NyB()},standalone:!0,features:[e.Jv_([{provide:ht,useExisting:Lt}]),e.aNF],decls:5,vars:6,consts:[["filterModeDialog",""],[1,"m-5"],[3,"columnsWrapper","filterUI","allData"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-100"],[1,"text-sm","text-gray-600","mb-4"],[1,"list-none"],[1,"list-disc","list-inside"]],template:function(r,s){1&r&&(e.DNE(0,hr,17,0,"div",1),e.eu8(1,null,0),e.nrm(3,"app-data-table",2),e.nI1(4,"async")),2&r&&(e.vxM(s.filterUI()?-1:0),e.R7$(3),e.Y8G("columnsWrapper",s.columns)("filterUI",s.filterUI())("allData",e.bMT(4,4,s.users$)))},dependencies:[lr,f.Jj]})}return n})()}}]);