"use strict";(self.webpackChunkapaleo_task=self.webpackChunkapaleo_task||[]).push([[779],{8779:(ei,St,u)=>{u.r(St),u.d(St,{UsersListComponent:()=>ti});var kt=u(1626),r=u(4438),$e=u(8148);const We=[5,10,20,30,40,50,100];let Z=(()=>{class e{constructor(){}load(t={skip:0,limit:10},i,s,o){return this.requestHandler(t,i=i?.key&&i?.value?i:void 0,s,o)}handleResponse(t,i,s){return{paginationData:{limit:t.limit,skip:t.skip,total:t.total},rs:t[i].map(o=>s(o))}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=r.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tt=u(6354);class Xe{firstName;lastName;age;address;constructor(n){this.firstName=n.firstName,this.lastName=n.lastName,this.age=n.age,this.address=this.formatAddress(n.address)}formatAddress(n){const{address:t,city:i,country:s,state:o,stateCode:a,postalCode:l,coordinates:{lat:h,lng:p}}=n;return`${s},${o},${a},${i},${t},${l},coordinates:latitude:${h},langtitude:${p}`}}let Le=(()=>{class e extends Z{selectedColumns=["firstName","lastName","age","address"];http=(0,r.WQX)(kt.Qq);urlService=(0,r.WQX)($e.H);constructor(){super()}requestHandler(t,i,s,o){const a=this.buildHttpParams(t,i,s,o),l=this.determineUrl(i,o);return this.http.get(l,{params:a}).pipe((0,tt.T)(h=>this.handleResponse(h,"users",p=>new Xe(p))))}determineUrl(t,i){return i?`${this.urlService.URLS.USERS}/search`:t?`${this.urlService.URLS.USERS}/filter`:this.urlService.URLS.USERS}buildHttpParams(t,i,s,o){let a=new kt.Nl({fromObject:{...t,...i,...s}});return o&&(a=a.set("q",o)),a.set("select",this.selectedColumns.join(","))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=r.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var f=u(177),Ot=u(1985),He=u(6977);function A(e){e||((0,r.Af3)(A),e=(0,r.WQX)(r.abz));const n=new Ot.c(t=>e.onDestroy(t.next.bind(t)));return t=>t.pipe((0,He.Q)(n))}var Je=u(6648),Ke=u(7468),et=u(1413);let Nt=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||e)(r.rXU(r.sFG),r.rXU(r.aKT))}}static{this.\u0275dir=r.FsC({type:e})}}return e})(),C=(()=>{class e extends Nt{static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=r.xGo(e)))(s||e)}})()}static{this.\u0275dir=r.FsC({type:e,features:[r.Vt3]})}}return e})();const m=new r.nKC(""),tn={provide:m,useExisting:(0,r.Rfq)(()=>T),multi:!0},nn=new r.nKC("");let T=(()=>{class e extends Nt{constructor(t,i,s){super(t,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function en(){const e=(0,f.QT)()?(0,f.QT)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||e)(r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(nn,8))}}static{this.\u0275dir=r.FsC({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){1&i&&r.bIt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[r.Jv_([tn]),r.Vt3]})}}return e})();const c=new r.nKC(""),v=new r.nKC("");function Xt(e){return null!=e}function Lt(e){return(0,r.jNT)(e)?(0,Je.H)(e):e}function Ht(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function zt(e,n){return n.map(t=>t(e))}function qt(e){return e.map(n=>function sn(e){return!e.validate}(n)?n:t=>n.validate(t))}function nt(e){return null!=e?function Qt(e){if(!e)return null;const n=e.filter(Xt);return 0==n.length?null:function(t){return Ht(zt(t,n))}}(qt(e)):null}function rt(e){return null!=e?function Yt(e){if(!e)return null;const n=e.filter(Xt);return 0==n.length?null:function(t){const i=zt(t,n).map(Lt);return(0,Ke.p)(i).pipe((0,tt.T)(Ht))}}(qt(e)):null}function Jt(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Kt(e){return e._rawValidators}function Zt(e){return e._rawAsyncValidators}function it(e){return e?Array.isArray(e)?e:[e]:[]}function P(e,n){return Array.isArray(e)?e.includes(n):e===n}function te(e,n){const t=it(n);return it(e).forEach(s=>{P(t,s)||t.push(s)}),t}function ee(e,n){return it(n).filter(t=>!P(e,t))}class ne{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=nt(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=rt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class d extends ne{get formDirective(){return null}get path(){return null}}class g extends ne{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class re{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let R=(()=>{class e extends re{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(r.rXU(g,2))}}static{this.\u0275dir=r.FsC({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){2&i&&r.AVh("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[r.Vt3]})}}return e})();const M="VALID",G="INVALID",w="PENDING",E="DISABLED";class F{}class se extends F{constructor(n,t){super(),this.value=n,this.source=t}}class at extends F{constructor(n,t){super(),this.pristine=n,this.source=t}}class lt extends F{constructor(n,t){super(),this.touched=n,this.source=t}}class U extends F{constructor(n,t){super(),this.status=n,this.source=t}}function j(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class dt{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,r.EWP)(()=>this.statusReactive()),this.statusReactive=(0,r.vPA)(void 0),this._pristine=(0,r.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,r.vPA)(!0),this._touched=(0,r.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,r.vPA)(!1),this._events=new et.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return(0,r.O8t)(this.statusReactive)}set status(n){(0,r.O8t)(()=>this.statusReactive.set(n))}get valid(){return this.status===M}get invalid(){return this.status===G}get pending(){return this.status==w}get disabled(){return this.status===E}get enabled(){return this.status!==E}get pristine(){return(0,r.O8t)(this.pristineReactive)}set pristine(n){(0,r.O8t)(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return(0,r.O8t)(this.touchedReactive)}set touched(n){(0,r.O8t)(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(te(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(te(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(ee(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(ee(n,this._rawAsyncValidators))}hasValidator(n){return P(this._rawValidators,n)}hasAsyncValidator(n){return P(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const t=!1===this.touched;this.touched=!0;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:i}),t&&!1!==n.emitEvent&&this._events.next(new lt(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=n.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&!1!==n.emitEvent&&this._events.next(new lt(!1,i))}markAsDirty(n={}){const t=!0===this.pristine;this.pristine=!1;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:i}),t&&!1!==n.emitEvent&&this._events.next(new at(!1,i))}markAsPristine(n={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=n.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&!1!==n.emitEvent&&this._events.next(new at(!0,i))}markAsPending(n={}){this.status=w;const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new U(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:t})}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=E,this.errors=null,this._forEachChild(s=>{s.disable({...n,onlySelf:!0})}),this._updateValue();const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new se(this.value,i)),this._events.next(new U(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=M,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===M||this.status===w)&&this._runAsyncValidator(i,n.emitEvent)}const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new se(this.value,t)),this._events.next(new U(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:t})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E:M}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=w,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const i=Lt(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,s)=>i&&i._find(s),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new U(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new r.bkB,this.statusChanges=new r.bkB}_calculateStatus(){return this._allControlsDisabled()?E:this.errors?G:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(w)?w:this._anyControlsHaveStatus(G)?G:M}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){const i=!this._anyControlsDirty(),s=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),s&&this._events.next(new at(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new lt(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){j(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function pn(e){return Array.isArray(e)?nt(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function fn(e){return Array.isArray(e)?rt(e):e||null}(this._rawAsyncValidators)}}const D=new r.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>$}),$="always";function x(e,n,t=$){(function pt(e,n){const t=Kt(e);null!==n.validator?e.setValidators(Jt(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const i=Zt(e);null!==n.asyncValidator?e.setAsyncValidators(Jt(i,n.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const s=()=>e.updateValueAndValidity();L(n._rawValidators,s),L(n._rawAsyncValidators,s)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function _n(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&le(e,n)})}(e,n),function vn(e,n){const t=(i,s)=>{n.valueAccessor.writeValue(i),s&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function yn(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&le(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function gn(e,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function X(e,n,t=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),function H(e,n){let t=!1;if(null!==e){if(null!==n.validator){const s=Kt(e);if(Array.isArray(s)&&s.length>0){const o=s.filter(a=>a!==n.validator);o.length!==s.length&&(t=!0,e.setValidators(o))}}if(null!==n.asyncValidator){const s=Zt(e);if(Array.isArray(s)&&s.length>0){const o=s.filter(a=>a!==n.asyncValidator);o.length!==s.length&&(t=!0,e.setAsyncValidators(o))}}}const i=()=>{};return L(n._rawValidators,i),L(n._rawAsyncValidators,i),t}(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function L(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function le(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function de(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function he(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const k=class extends dt{constructor(n=null,t,i){super(function ut(e){return(j(e)?e.validators:e)||null}(t),function ct(e,n){return(j(n)?n.asyncValidators:e)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),j(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=he(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){de(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){de(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){he(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};Promise.resolve();const yt=new r.nKC(""),Nn={provide:g,useExisting:(0,r.Rfq)(()=>O)};let O=(()=>{class e extends g{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,s,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new r.bkB,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=function gt(e,n){if(!n)return null;let t,i,s;return Array.isArray(n),n.forEach(o=>{o.constructor===T?t=o:function Vn(e){return Object.getPrototypeOf(e.constructor)===C}(o)?i=o:s=o}),s||i||t||null}(0,s)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&X(i,this,!1),x(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function mt(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&X(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||e)(r.rXU(c,10),r.rXU(v,10),r.rXU(m,10),r.rXU(yt,8),r.rXU(D,8))}}static{this.\u0275dir=r.FsC({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Jv_([Nn]),r.Vt3,r.OA$]})}}return e})(),Kn=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=r.$C({type:e})}static{this.\u0275inj=r.G2t({})}}return e})(),Dt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:yt,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:D,useValue:t.callSetDisabledState??$}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=r.$C({type:e})}static{this.\u0275inj=r.G2t({imports:[Kn]})}}return e})();var z=u(2282);let q=(()=>{class e{name=r.hFB.required({alias:"ApaleoTemplate"});template=(0,r.WQX)(r.C4Q);constructor(){}getType(){return this.name()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=r.FsC({type:e,selectors:[["","ApaleoTemplate",""]],inputs:{name:[1,"ApaleoTemplate","name"]},standalone:!0})}return e})();var tr=u(8359);class er extends tr.yU{constructor(n,t){super()}schedule(n,t=0){return this}}const Q={setInterval(e,n,...t){const{delegate:i}=Q;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=Q;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var nr=u(7908);const At={now:()=>(At.delegate||Date).now(),delegate:void 0};class N{constructor(n,t=N.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}}N.now=At.now;const Mt=new class ir extends N{constructor(n,t=N.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}}(class rr extends er{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;const s=this.id,o=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(o,s,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return Q.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Q.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let s,i=!1;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,nr.o)(i,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}),sr=Mt;var Ne=u(9974),Te=u(4360);function Ie(e,n=Mt){return(0,Ne.N)((t,i)=>{let s=null,o=null,a=null;const l=()=>{if(s){s.unsubscribe(),s=null;const p=o;o=null,i.next(p)}};function h(){const p=a+e,je=n.now();if(je<p)return s=this.schedule(void 0,p-je),void i.add(s);l()}t.subscribe((0,Te._)(i,p=>{o=p,a=n.now(),s||(s=n.schedule(h,e),i.add(s))},()=>{l(),i.complete()},void 0,()=>{o=s=null}))})}var Et=u(8141);const or=["prefixWrapper"],ar=["suffixWrapper"],lr=(e,n)=>({"padding-left.px":e,"padding-right.px":n});function ur(e,n){1&e&&r.eu8(0)}function cr(e,n){if(1&e&&(r.j41(0,"span",6,1),r.DNE(2,ur,1,0,"ng-container",7),r.k0s()),2&e){const t=r.XpG();r.R7$(2),r.Y8G("ngTemplateOutlet",t.prefixTemplate)}}function dr(e,n){1&e&&r.eu8(0)}function hr(e,n){1&e&&r.eu8(0)}function pr(e,n){if(1&e&&(r.j41(0,"span",8,2),r.DNE(2,hr,1,0,"ng-container",7),r.k0s()),2&e){const t=r.XpG();r.R7$(2),r.Y8G("ngTemplateOutlet",t.suffixTemplate)}}function fr(e,n){if(1&e){const t=r.RV6();r.j41(0,"input",9),r.bIt("input",function(s){r.eBV(t);const o=r.XpG();return r.Njj(o.setValue(s))}),r.k0s()}if(2&e){const t=r.XpG();r.Y8G("id",t.inputId())("ngClass",t.klass())("readonly",t.disabled())("autocomplete",t.autocomplete()?"on":"off")("type",t.type())("placeholder",t.placeholder())("formControl",t.control)("ngStyle",r.l_i(10,lr,t.prefixPadding,t.suffixPadding)),r.BMQ("aria-label",t.ariaLabel())("aria-labelledby",t.ariaLabelledBy())}}let Pe=(()=>{class e{onChange;onTouch;control=new k("");ngContorl=(0,r.WQX)(g,{optional:!0,self:!0});controlContainer=(0,r.WQX)(d,{optional:!0,skipSelf:!0,host:!0});_destroyRef=(0,r.WQX)(r.abz);_cdr=(0,r.WQX)(r.gRc);value=(0,r.geq)();disabled=(0,r.geq)();autocomplete=(0,r.hFB)();type=r.hFB.required();placeholder=(0,r.hFB)("");size=(0,r.hFB)("md");label=(0,r.hFB)("");inputId=(0,r.hFB)();klass=(0,r.hFB)();ariaLabel=(0,r.hFB)();ariaLabelledBy=(0,r.hFB)();inputColor=(0,r.hFB)("");templates=(0,r.tEk)(q);prefixWrapper=(0,r.ebz)("prefixWrapper");suffixWrapper=(0,r.ebz)("suffixWrapper");prefixTemplate;suffixTemplate;prefixPadding=0;suffixPadding=0;constructor(){this.ngContorl&&(this.ngContorl.valueAccessor=this)}ngAfterViewInit(){if(this.prefixWrapper()){const t=this.prefixWrapper()?.nativeElement?.offsetWidth;this.prefixPadding=t?t+20:0,this._cdr.markForCheck()}if(this.suffixWrapper()){const t=this.suffixWrapper()?.nativeElement?.offsetWidth;this.suffixPadding=t?t+20:0,this._cdr.markForCheck()}}ngAfterContentInit(){this.templates().forEach(t=>{switch(t.getType()){case"prefix":this.prefixTemplate=t.template;break;case"suffix":this.suffixTemplate=t.template}})}ngOnInit(){this.controlContainer?.valueChanges?.pipe((0,Et.M)(t=>{this._cdr.markForCheck()})).pipe(A(this._destroyRef)).subscribe(),this.checkDisableState()}writeValue(t){this.control.setValue(t,{emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.disabled.set(t),this.checkDisableState()}setValue(t){this.disabled()||(this.onChange(t.target.value),this.onTouch())}checkDisableState(){this.disabled()?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=r.VBU({type:e,selectors:[["app-input-text"]],contentQueries:function(i,s,o){1&i&&r.C6U(o,s.templates,q,4),2&i&&r.NyB()},viewQuery:function(i,s){1&i&&(r.wEZ(s.prefixWrapper,or,5),r.wEZ(s.suffixWrapper,ar,5)),2&i&&r.NyB(2)},inputs:{value:[1,"value"],disabled:[1,"disabled"],autocomplete:[1,"autocomplete"],type:[1,"type"],placeholder:[1,"placeholder"],size:[1,"size"],label:[1,"label"],inputId:[1,"inputId"],klass:[1,"klass"],ariaLabel:[1,"ariaLabel"],ariaLabelledBy:[1,"ariaLabelledBy"],inputColor:[1,"inputColor"]},outputs:{value:"valueChange",disabled:"disabledChange"},standalone:!0,features:[r.aNF],decls:9,vars:8,consts:[["input",""],["prefixWrapper",""],["suffixWrapper",""],[1,"group","block","relative"],[1,"block","font-medium"],[3,"ngClass"],[1,"absolute","inset-y-0","left-3","flex","items-center"],[4,"ngTemplateOutlet"],[1,"absolute","inset-y-0","right-3","flex","items-center"],[3,"input","id","ngClass","readonly","autocomplete","type","placeholder","formControl","ngStyle"]],template:function(i,s){if(1&i&&(r.j41(0,"label",3)(1,"span",4),r.EFF(2),r.k0s()(),r.j41(3,"div",5),r.DNE(4,cr,3,1,"span",6)(5,dr,1,0,"ng-container",7)(6,pr,3,1,"span",8),r.k0s(),r.DNE(7,fr,1,13,"ng-template",null,0,r.C5r)),2&i){const o=r.sdS(8);r.R7$(2),r.SpI("",s.label()," "),r.R7$(),r.ZvI("group input-form ",s.inputColor()," flex items-center justify-start relative"),r.Y8G("ngClass",s.size),r.R7$(),r.vxM(s.prefixTemplate?4:-1),r.R7$(),r.Y8G("ngTemplateOutlet",o),r.R7$(),r.vxM(s.suffixTemplate?6:-1)}},dependencies:[Dt,T,R,O,f.YU,f.T3,f.B3],changeDetection:0})}return e})();function mr(e,n){if(1&e){const t=r.RV6();r.j41(0,"img",2),r.bIt("keydown.enter",function(){r.eBV(t);const s=r.XpG();return r.Njj(s.clear())})("keydown.space",function(){r.eBV(t);const s=r.XpG();return r.Njj(s.clear())})("click",function(){r.eBV(t);const s=r.XpG();return r.Njj(s.clear())}),r.k0s()}if(2&e){const t=r.XpG();r.Y8G("ngSrc",t.filterIcon.url)("width",t.filterIcon.width)("height",t.filterIcon.height)("alt",t.filterIcon.alt)}}let gr=(()=>{class e{destroyRef=(0,r.WQX)(r.abz);assets=(0,r.WQX)(z.kf);col=r.hFB.required();control=new k("",{nonNullable:!0});filterChange=(0,r.CGW)();get filterIcon(){return(""+this.control.value).length?this.assets["filter-clear"]:this.assets.filter}ngOnInit(){this.listenToControl(),this.listenToClearValue()}listenToControl(){!this.col()||!this.col().filter||this.control.valueChanges.pipe(Ie(250)).subscribe(t=>{this.col()&&this.filterChange.emit({key:this.col().config.name,value:t}),this.clearAllFiltersExceptCurrent()})}clear(){this.control.dirty&&this.control.reset()}listenToClearValue(){this.col()?.clear.pipe(A(this.destroyRef)).subscribe(t=>{this.col().config.name!==t&&this.control.reset("",{emitEvent:!1})})}clearAllFiltersExceptCurrent(){this.col()?.clear.next(this.col().config.name)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=r.VBU({type:e,selectors:[["app-column-filter"]],inputs:{col:[1,"col"]},outputs:{filterChange:"filterChange"},standalone:!0,features:[r.aNF],decls:2,vars:2,consts:[["klass","bg-gray-50 border border-gray-300 text-gray-900  font-medium  text-lg rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",3,"type","formControl"],["ApaleoTemplate","prefix"],[1,"cursor-pointer",3,"keydown.enter","keydown.space","click","ngSrc","width","height","alt"]],template:function(i,s){1&i&&(r.j41(0,"app-input-text",0),r.DNE(1,mr,1,4,"ng-template",1),r.k0s()),2&i&&r.Y8G("type","text")("formControl",s.control)},dependencies:[Pe,q,Dt,R,O,f.kt]})}return e})();class Y{name;displayName;filterName;filter;sortable;bindKey;constructor(n,t,...i){this.name=n,this.displayName=t??n,this.filterName=`${n}_not_filter`,i.forEach(s=>s(this))}}function Re(e,n){return t=>{t.filter=!0,t.name=e??t.name,t.bindKey=n,t.filterName=`${e??t.name}_filter`}}class _r{list;colNames=new Set;diplayNames=[];filterNames=new Set;filter$;clear$=new et.B;colsMap={};constructor(...n){this.list=n,this.initializeColumns(n)}initializeColumns(n){n.forEach(t=>{this.colNames.add(t.name),this.diplayNames.push(t.displayName),this.filterNames.add(t.filterName),this.colsMap[t.filterName]=this.createColumnContract(t)})}createColumnContract(n){return{config:n,...n.filter?{filter:()=>this.filter$,clear:this.clear$}:{},...n.sortable?{sortBy:n.name,order:"none",isActiveSort:!1}:{}}}attachFilter(n){return this.filter$=n,this}toggleSort(n,t){this.list.forEach(i=>{const s=this.colsMap[i.filterName],o=s.sortBy===n;s.isActiveSort=o&&"none"!==t,s.order=o?t:"none"})}}function yr(e,n){if(1&e&&r.nrm(0,"img",2),2&e){const t=n,i=r.XpG();r.AVh("opacity-40","none"===t),r.Y8G("ngSrc",i.assets["asc"===t?"arrow-up":"desc"===t?"arrow-down":"arrow-up"].url)("width",i.assets["asc"===t?"arrow-up":"desc"===t?"arrow-down":"arrow-up"].width)("height",i.assets["asc"===t?"arrow-up":"desc"===t?"arrow-down":"arrow-up"].height)("alt",i.assets["asc"===t?"arrow-up":"desc"===t?"arrow-down":"arrow-up"].alt)}}let vr=(()=>{class e{assets=(0,r.WQX)(z.kf);col=r.hFB.required();onSort=(0,r.CGW)();dir=(0,r.vPA)("none");sort(){this.dir.update(()=>this.nextSortOrder(this.dir())),this.onSort.emit({order:this.dir(),sortBy:this.col().sortBy})}nextSortOrder(t){switch(t){case"none":return"asc";case"asc":return"desc";case"desc":return"none"}}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=r.VBU({type:e,selectors:[["app-column-sorter"]],inputs:{col:[1,"col"]},outputs:{onSort:"onSort"},standalone:!0,features:[r.aNF],decls:2,vars:1,consts:[[1,"ml-2","cursor-pointer",3,"click"],[3,"ngSrc","width","height","alt","opacity-40"],[3,"ngSrc","width","height","alt"]],template:function(i,s){if(1&i&&(r.j41(0,"button",0),r.bIt("click",function(){return s.sort()}),r.DNE(1,yr,1,6,"img",1),r.k0s()),2&i){let o;r.R7$(),r.vxM((o=s.col().order)?1:-1,o)}},dependencies:[f.kt]})}return e})();class Cr extends et.B{constructor(n=1/0,t=1/0,i=At){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:i,_infiniteTimeWindow:s,_timestampProvider:o,_windowTime:a}=this;t||(i.push(n),!s&&i.push(o.now()+a)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:s}=this,o=s.slice();for(let a=0;a<o.length&&!n.closed;a+=i?1:2)n.next(o[a]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:s}=this,o=(s?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!s){const a=t.now();let l=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)l=h;l&&i.splice(0,l+1)}}}var J=u(4412),br=u(7673),Vr=u(8793),Be=u(6697),wr=u(5343),Dr=u(3703),Ar=u(1397),Mr=u(8750);function Ge(e,n){return n?t=>(0,Vr.x)(n.pipe((0,Be.s)(1),function Fr(){return(0,Ne.N)((e,n)=>{e.subscribe((0,Te._)(n,wr.l))})}()),t.pipe(Ge(e))):(0,Ar.Z)((t,i)=>(0,Mr.Tg)(e(t,i)).pipe((0,Be.s)(1),(0,Dr.u)(t)))}var Er=u(9470);var Ue=u(5558),Or=u(4572),Nr=u(980);const K=(e,n,t)=>({action:e,disabled:n,icon:t});function Tr(e,n){1&e&&r.eu8(0)}function Ir(e,n){1&e&&r.eu8(0)}function Pr(e,n){1&e&&r.eu8(0)}function Rr(e,n){1&e&&r.eu8(0)}function Br(e,n){if(1&e&&(r.j41(0,"option",5),r.EFF(1),r.k0s()),2&e){const t=n.$implicit,i=r.XpG();r.Y8G("value",t)("selected",t===i.limit()),r.R7$(),r.SpI(" ",t," ")}}function Gr(e,n){if(1&e&&(r.qex(0),r.nrm(1,"img",7),r.bVm()),2&e){const t=r.XpG().icon;r.R7$(),r.Y8G("ngSrc",t.url)("width",t.width)("height",t.height)}}function Ur(e,n){if(1&e){const t=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){const s=r.eBV(t).action;return r.Njj(s&&s())}),r.DNE(1,Gr,2,3,"ng-container"),r.k0s()}if(2&e){const i=n.icon;r.Y8G("disabled",n.disabled),r.R7$(),r.vxM(i?1:-1)}}let jr=(()=>{class e{total=r.hFB.required();skip=r.hFB.required();limit=r.hFB.required();pageSizeOptions=(0,r.hFB)(We);onPaginate=(0,r.CGW)();totalPages=(0,r.EWP)(()=>this.limit()&&this.limit()>0?Math.ceil(this.total()/this.limit()):0);currentPage=(0,r.EWP)(()=>this.limit()&&this.limit()>0?Math.floor(this.skip()/this.limit())+1:0);paginationAction={NEXT:()=>this.goToNext(),FIRST:()=>this.goToFirst(),LAST:()=>this.goToLast(),PREVIOUS:()=>this.goToPrevious()};assets=(0,r.WQX)(z.kf);updatePagination(t,i){this.onPaginate.emit({limit:i,skip:t})}onPageSizeChange(t){const i=Number(t.target.value);this.updatePagination(0,i)}goToFirst(){this.updatePagination(0,this.limit())}goToPrevious(){this.currentPage()>1&&this.updatePagination(this.skip()-this.limit(),this.limit())}goToNext(){this.currentPage()<this.totalPages()&&this.updatePagination(this.skip()+this.limit(),this.limit())}goToLast(){const t=(this.totalPages()-1)*this.limit();this.updatePagination(t,this.limit())}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=r.VBU({type:e,selectors:[["app-paginator"]],inputs:{total:[1,"total"],skip:[1,"skip"],limit:[1,"limit"],pageSizeOptions:[1,"pageSizeOptions"]},outputs:{onPaginate:"onPaginate"},standalone:!0,features:[r.aNF],decls:12,vars:26,consts:[["actionButton",""],[1,"flex","justify-center","items-center","gap-4","p-4","bg-gray-200","dark:bg-gray-800","rounded-lg","shadow","w-full"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-gray-700","dark:text-gray-200","font-medium","text-base"],[1,"ml-4","px-2","py-1.5","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change"],[3,"value","selected"],[1,"flex","items-center","gap-2","px-3","py-1.5","bg-blue-500","text-white","dark:bg-blue-600","rounded","disabled:bg-blue-300","dark:disabled:bg-blue-400","hover:bg-blue-600","dark:hover:bg-blue-700","transition",3,"click","disabled"],[3,"ngSrc","width","height"]],template:function(i,s){if(1&i){const o=r.RV6();r.j41(0,"div",1),r.DNE(1,Tr,1,0,"ng-container",2)(2,Ir,1,0,"ng-container",2),r.j41(3,"span",3),r.EFF(4),r.k0s(),r.DNE(5,Pr,1,0,"ng-container",2)(6,Rr,1,0,"ng-container",2),r.j41(7,"select",4),r.bIt("change",function(l){return r.eBV(o),r.Njj(s.onPageSizeChange(l))}),r.Z7z(8,Br,2,3,"option",5,r.fX1),r.k0s()(),r.DNE(10,Ur,2,2,"ng-template",null,0,r.C5r)}if(2&i){const o=r.sdS(11);r.R7$(),r.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",r.sMw(10,K,s.paginationAction.FIRST,1===s.currentPage(),s.assets["double-left-chevron"])),r.R7$(),r.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",r.sMw(14,K,s.paginationAction.PREVIOUS,1===s.currentPage(),s.assets["left-chevron"])),r.R7$(2),r.Lme(" Page ",s.currentPage()," of ",s.totalPages()," "),r.R7$(),r.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",r.sMw(18,K,s.paginationAction.NEXT,s.currentPage()===s.totalPages(),s.assets["right-chevron"])),r.R7$(),r.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",r.sMw(22,K,s.paginationAction.LAST,s.currentPage()===s.totalPages(),s.assets["double-right-chevron"])),r.R7$(2),r.Dyx(s.pageSizeOptions())}},dependencies:[f.T3,f.kt]})}return e})();const $r=(e,n)=>({"opacity-100":e,"opacity-0 group-hover:opacity-100":n});function Wr(e,n){if(1&e&&r.eu8(0,9),2&e){r.XpG();const t=r.sdS(44);r.Y8G("ngTemplateOutlet",t)}}function Xr(e,n){if(1&e){const t=r.RV6();r.j41(0,"app-column-sorter",23),r.bIt("onSort",function(s){r.eBV(t);const o=r.XpG(2);return r.Njj(o.sort(s))}),r.k0s()}if(2&e){const t=r.XpG().$implicit,i=r.XpG();r.Y8G("ngClass",r.l_i(2,$r,i.columnsWrapper().colsMap[t].isActiveSort,!i.columnsWrapper().colsMap[t].isActiveSort))("col",i.columnsWrapper().colsMap[t])}}function Lr(e,n){if(1&e&&(r.j41(0,"th",14)(1,"div",21)(2,"span"),r.EFF(3),r.k0s(),r.DNE(4,Xr,1,5,"app-column-sorter",22),r.k0s()()),2&e){const t=n.$implicit,i=r.XpG();r.R7$(3),r.JRh(i.columnsWrapper().colsMap[t].config.displayName),r.R7$(),r.vxM(i.columnsWrapper().colsMap[t].config.sortable?4:-1)}}function Hr(e,n){if(1&e){const t=r.RV6();r.j41(0,"app-column-filter",25),r.bIt("filterChange",function(s){r.eBV(t);const o=r.XpG(2);return r.Njj(o.filterChange(s))}),r.k0s()}if(2&e){const t=r.XpG().$implicit,i=r.XpG();r.Y8G("col",i.columnsWrapper().colsMap[t])}}function zr(e,n){if(1&e&&(r.j41(0,"th",15),r.DNE(1,Hr,1,1,"app-column-filter",24),r.k0s()),2&e){const t=n.$implicit,i=r.XpG();r.R7$(),r.vxM(i.columnsWrapper().colsMap[t].config.filter?1:-1)}}function qr(e,n){if(1&e&&(r.j41(0,"td",27),r.EFF(1),r.k0s()),2&e){const t=n.$implicit,i=r.XpG().$implicit;r.Y8G("title",i[t]),r.R7$(),r.SpI(" ",i[t]," ")}}function Qr(e,n){if(1&e&&(r.j41(0,"tr",17)(1,"td",26),r.EFF(2),r.k0s(),r.Z7z(3,qr,2,2,"td",27,r.fX1),r.k0s()),2&e){const t=n.$index,i=r.XpG();r.R7$(2),r.SpI(" ",t+1," "),r.R7$(),r.Dyx(i.columnsWrapper().colNames)}}function Yr(e,n){1&e&&(r.j41(0,"div",28),r.nrm(1,"div",29),r.k0s())}function Jr(e,n){if(1&e&&(r.SS7(0),r.nrm(1,"img",32)),2&e){const t=r.XpG(2).assets.search;r.R7$(),r.Y8G("ngSrc",t.url)("width",t.width)("height",t.height)("alt",t.alt)}}function Kr(e,n){if(1&e&&(r.j41(0,"app-input-text",30),r.DNE(1,Jr,2,4,"ng-template",31),r.k0s()),2&e){const t=r.XpG();r.Y8G("placeholder","Search By frist name, last name...")("formControl",t.searchForm)}}let Zr=(()=>{class e{columnsWrapper=r.hFB.required();delaySearch=(0,r.hFB)(250);data$=this.load();service=(0,r.WQX)(Z,{skipSelf:!0});assets=(0,r.WQX)(z.kf);destroyRef=(0,r.WQX)(r.abz);sort$=new Cr(1);filter$=new J.t({});skip=(0,r.vPA)(0);limit=(0,r.vPA)(10);total=(0,r.vPA)(0);paginate$=new J.t({skip:this.skip(),limit:this.limit()});search$=new J.t("");searchForm=new k("",{nonNullable:!0});loadingSubject$=new J.t(!1);ngOnInit(){this.columnsWrapper().attachFilter(this.filter$),this.sort$.next(void 0),this.listenToValueChange()}load(){return(0,br.of)(void 0).pipe(function kr(e,n=Mt){const t=function Sr(e=0,n,t=sr){let i=-1;return null!=n&&((0,Er.m)(n)?t=n:i=n),new Ot.c(s=>{let o=function xr(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;o<0&&(o=0);let a=0;return t.schedule(function(){s.closed||(s.next(a++),0<=i?this.schedule(void 0,i):s.complete())},o)})}(e,n);return Ge(()=>t)}(0)).pipe((0,Ue.n)(()=>(0,Or.z)([this.paginate$,this.filter$,this.sort$,this.search$]).pipe((0,Ue.n)(([t,i,s,o])=>(this.loadingSubject$.next(!0),this.service.load(t,i,s,o).pipe((0,Nr.j)(()=>this.loadingSubject$.next(!1))))),(0,Et.M)(({paginationData:t})=>{this.total.set(t.total),this.loadingSubject$.next(!1)}),(0,tt.T)(t=>t.rs))))}sort(t){this.columnsWrapper().toggleSort(t.sortBy,t.order),t.sortBy&&"none"!==t.order&&this.sort$.next({sortBy:t.sortBy,order:t.order})}paginate(t){this.paginate$.next({skip:t.skip,limit:t.limit}),this.skip.set(t.skip),this.limit.set(t.limit)}filterChange(t){if(null==t.value||""===t.value)return delete this.filter$.value.value,void this.filter$.next({...this.filter$.value});this.resetPaginator(),this.resetSearchForm(),this.filter$.next({key:t.key,value:t.value})}listenToValueChange(){this.searchForm.valueChanges.pipe(Ie(this.delaySearch()),A(this.destroyRef),(0,Et.M)(t=>{this.search$.next(t),t&&(this.filter$.next({}),this.columnsWrapper().clear$.next())})).subscribe()}resetPaginator(){this.updatePaginationDate(0,10),this.paginate$.next({limit:this.limit(),skip:this.skip()})}resetSearchForm(){this.searchForm.reset("")}updatePaginationDate(t,i){this.limit.set(i),this.skip.set(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=r.VBU({type:e,selectors:[["app-data-table"]],inputs:{columnsWrapper:[1,"columnsWrapper"],delaySearch:[1,"delaySearch"]},standalone:!0,features:[r.aNF],decls:47,vars:11,consts:[["loader",""],["searchInput",""],[1,"m-5"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-100"],[1,"text-sm","text-gray-600","mb-4"],[1,"list-none"],[1,"list-disc","list-inside"],[1,"m-5","max-h-[80vh]","overflow-y-auto","[&::-webkit-scrollbar]:w-2","[&::-webkit-scrollbar-track]:rounded-full","[&::-webkit-scrollbar-track]:bg-gray-100","[&::-webkit-scrollbar-thumb]:rounded-full","[&::-webkit-scrollbar-thumb]:bg-gray-300","dark:[&::-webkit-scrollbar-track]:bg-neutral-700","dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500"],[1,"relative"],[3,"ngTemplateOutlet"],[1,"w-full","table-fixed","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400","border","border-gray-300","dark:border-gray-600","rounded-lg"],[1,"sticky","top-0","z-10","text-base","text-gray-700","uppercase","bg-slate-50","dark:bg-gray-700","dark:text-gray-400"],[1,"bg-slate-100","dark:bg-gray-800"],[1,"text-center","px-6","py-3","border-gray-300","dark:border-gray-600","w-4/12"],[1,"group","text-center","px-6","py-3","border-gray-300","dark:border-gray-600","w-4/12","min-w-[120px]"],[1,"text-center","px-6","py-3","border-gray-300","dark:border-gray-600"],[1,"bg-white","dark:bg-gray-900"],[1,"border-b","border-gray-300","dark:border-gray-700"],[1,"bg-white","dark:bg-gray-900","sticky","bottom-0","shadow-inner","shadow-sm","shadow-gray-500"],[1,"px-6","py-3","text-center"],[3,"onPaginate","total","limit","skip"],[1,"flex","items-center","justify-center"],[1,"inline-block","ml-2","transition-opacity","duration-300",3,"ngClass","col"],[1,"inline-block","ml-2","transition-opacity","duration-300",3,"onSort","ngClass","col"],[3,"col"],[3,"filterChange","col"],[1,"text-center","px-6","py-3","truncate","text-black","dark:text-gray-100"],[1,"text-center","px-6","py-3","truncate","text-lg","text-black","dark:text-gray-100",3,"title"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-white","bg-opacity-75","dark:bg-gray-900","dark:bg-opacity-75","z-20"],[1,"loader"],["type","text","klass","m-4 font-medium bg-gray-50 border border-gray-300 text-gray-900 text-base  rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",3,"placeholder","formControl"],["ApaleoTemplate","prefix"],[1,"m-3","opacity-50","dark:invert",3,"ngSrc","width","height","alt"]],template:function(i,s){if(1&i){const o=r.RV6();r.j41(0,"div",2)(1,"h1",3),r.EFF(2,"User List"),r.k0s(),r.j41(3,"ul",4)(4,"li",5),r.EFF(5," This table allows you to search, filter, paginate, and sort data. Please note: "),r.k0s(),r.j41(6,"li",6)(7,"strong"),r.EFF(8,"Search"),r.k0s(),r.EFF(9," and "),r.j41(10,"strong"),r.EFF(11,"filter"),r.k0s(),r.EFF(12," can be used with pagination and sorting individually. "),r.k0s(),r.j41(13,"li",6)(14,"strong"),r.EFF(15,"Search and filter together"),r.k0s(),r.EFF(16," aren\u2019t supported due to API limitations. If both are entered, only the last action (either search or filter) will apply, clearing the previous one. "),r.k0s()()(),r.j41(17,"div",7)(18,"div",8),r.DNE(19,Wr,1,1,"ng-container",9),r.nI1(20,"async"),r.j41(21,"table",10)(22,"thead",11)(23,"tr",12)(24,"th"),r.eu8(25,9),r.k0s()(),r.j41(26,"tr")(27,"th",13),r.EFF(28," # "),r.k0s(),r.Z7z(29,Lr,5,2,"th",14,r.fX1),r.k0s(),r.j41(31,"tr",12),r.nrm(32,"th",15),r.Z7z(33,zr,2,1,"th",15,r.fX1),r.k0s()(),r.j41(35,"tbody",16),r.Z7z(36,Qr,5,1,"tr",17,r.fX1),r.nI1(38,"async"),r.k0s(),r.j41(39,"tfoot",18)(40,"tr")(41,"td",19)(42,"app-paginator",20),r.bIt("onPaginate",function(l){return r.eBV(o),r.Njj(s.paginate(l))}),r.k0s()()()()()()(),r.DNE(43,Yr,2,0,"ng-template",null,0,r.C5r)(45,Kr,2,2,"ng-template",null,1,r.C5r)}if(2&i){const o=r.sdS(46);r.R7$(19),r.vxM(r.bMT(20,7,s.loadingSubject$)?19:-1),r.R7$(5),r.BMQ("colspan",s.columnsWrapper().colNames.size+1),r.R7$(),r.Y8G("ngTemplateOutlet",o),r.R7$(4),r.Dyx(s.columnsWrapper().filterNames),r.R7$(4),r.Dyx(s.columnsWrapper().filterNames),r.R7$(3),r.Dyx(r.bMT(38,9,s.data$)),r.R7$(5),r.BMQ("colspan",s.columnsWrapper().colNames.size+1),r.R7$(),r.Y8G("total",s.total())("limit",s.limit())("skip",s.skip())}},dependencies:[jr,Pe,q,vr,f.YU,gr,f.Jj,f.T3,f.kt,Dt,R,O],styles:[".loader[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#4a5568;border-radius:50%;width:36px;height:36px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return e})(),ti=(()=>{class e{columns=new _r(new Y("firstName","First Name",Re(),e=>{e.sortable=!0}),new Y("lastName","Last Name",Re(),e=>{e.sortable=!0}),new Y("age","Age",e=>{e.sortable=!0}),new Y("address","Adress"));static \u0275fac=function(i){return new(i||e)};static \u0275cmp=r.VBU({type:e,selectors:[["app-users-list"]],standalone:!0,features:[r.Jv_([{provide:Z,useExisting:Le}]),r.aNF],decls:1,vars:1,consts:[[3,"columnsWrapper"]],template:function(i,s){1&i&&r.nrm(0,"app-data-table",0),2&i&&r.Y8G("columnsWrapper",s.columns)},dependencies:[Zr]})}return e})()}}]);